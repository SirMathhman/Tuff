from std::test use { reset, suite, it, expect_eq, expect_true, summary, status };

// Recursion + mutual recursion for local `fn` declarations.

fn main() : I32 => {
  reset();
  suite("local fn recursion");

  fn fact(n: I32) : I32 => if (n == 0) 1 else (n * fact(n - 1));
  it("fact(5)", expect_eq("fact", fact(5), 120));

  fn is_even(n: I32) : Bool => if (n == 0) true else is_odd(n - 1);
  fn is_odd(n: I32) : Bool => if (n == 0) false else is_even(n - 1);
  it("mutual recursion", expect_true("is_even(10)", is_even(10)));

  summary();
  status()
}
