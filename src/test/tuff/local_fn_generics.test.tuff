from std::test use { reset, suite, it, expect_eq, summary, status };

// Generic local `fn` inside a `class fn` body.
// This should behave like a generic method: u.id<I32>(123) == 123.

class fn Util() => {
  fn id<T>(x: T) : T => x;
}

fn main() : I32 => {
  reset();
  suite("local fn generics");

  let u = Util();

  it("id<I32>", expect_eq("id", u.id<I32>(123), 123));
  it("id<String>", expect_eq("id", u.id<String>("hi"), "hi"));

  summary();
  status()
}
